# üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n)

**–î–∞—Ç–∞:** 1 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–´–°–û–ö–ò–ô (–¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏)
**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –Ω–µ–¥–µ–ª–∏
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å—Ç–∞—Ä—Ç—É:** ‚úÖ –î–∞

---

## üìä –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏

### –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤—É—Ö—ä—è–∑—ã—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É (–†—É—Å—Å–∫–∏–π + –ê–Ω–≥–ª–∏–π—Å–∫–∏–π) –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Archi-Routes.

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è
**"–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î"**

1. –ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–æ—Ä–∏–≥–∏–Ω–∞–ª)
2. –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–ª–∞–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —è–∑—ã–∫ ‚Üí –≤–∏–¥–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥

### –ß—Ç–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ

**UI (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
- –ö–Ω–æ–ø–∫–∏, –º–µ–Ω—é, –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –§–æ—Ä–º—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –û–±—â–∏–µ —Ç–µ–∫—Å—Ç—ã

**–ö–æ–Ω—Ç–µ–Ω—Ç (–∏–∑ –ë–î):**
- –ù–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è –∑–¥–∞–Ω–∏–π
- –ú–∞—Ä—à—Ä—É—Ç—ã
- –ë–ª–æ–≥ –ø–æ—Å—Ç—ã
- –ù–æ–≤–æ—Å—Ç–∏
- –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨                              ‚îÇ
‚îÇ              [–í—ã–±–∏—Ä–∞–µ—Ç —è–∑—ã–∫: RU / EN]                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ                        ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  UI —Ç–µ–∫—Å—Ç—ã  ‚îÇ         ‚îÇ   –ö–æ–Ω—Ç–µ–Ω—Ç   ‚îÇ
    ‚îÇ  (next-intl)‚îÇ         ‚îÇ    (–ë–î)     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                        ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ JSON —Ñ–∞–π–ª—ã      ‚îÇ    ‚îÇ content_translations‚îÇ
    ‚îÇ ru/common.json  ‚îÇ    ‚îÇ      —Ç–∞–±–ª–∏—Ü–∞        ‚îÇ
    ‚îÇ en/common.json  ‚îÇ    ‚îÇ                     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –î–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–∏—Å—Ç–µ–º—ã

| –°–∏—Å—Ç–µ–º–∞ | –ß—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç | –•—Ä–∞–Ω–µ–Ω–∏–µ | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|---------|---------------|----------|------------|
| **UI –ø–µ—Ä–µ–≤–æ–¥—ã** | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–Ω–æ–ø–∫–∏, –º–µ–Ω—é | JSON —Ñ–∞–π–ª—ã | next-intl |
| **–ö–æ–Ω—Ç–µ–Ω—Ç –ø–µ—Ä–µ–≤–æ–¥—ã** | –ó–¥–∞–Ω–∏—è, –º–∞—Ä—à—Ä—É—Ç—ã, –±–ª–æ–≥–∏ | PostgreSQL —Ç–∞–±–ª–∏—Ü–∞ | Custom service |

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã

### üéØ –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (2-3 –¥–Ω—è)

**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

#### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç

```bash
npm install next-intl
npm install @google-cloud/translate  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
npm install deepl-node               # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- `next-intl` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è UI –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ Next.js 15
- `@google-cloud/translate` - Google Translate API (–¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–∞)
- `deepl-node` - DeepL API (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Google)

---

#### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç

```bash
src/
‚îú‚îÄ‚îÄ i18n/
‚îÇ   ‚îú‚îÄ‚îÄ config.ts           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ request.ts          # –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ locales/
‚îÇ       ‚îú‚îÄ‚îÄ ru/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ common.json        # –û–±—â–∏–µ —Ç–µ–∫—Å—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ navigation.json    # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ forms.json         # –§–æ—Ä–º—ã
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ errors.json        # –û—à–∏–±–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ en/
‚îÇ           ‚îú‚îÄ‚îÄ common.json
‚îÇ           ‚îú‚îÄ‚îÄ navigation.json
‚îÇ           ‚îú‚îÄ‚îÄ forms.json
‚îÇ           ‚îî‚îÄ‚îÄ errors.json
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `config.ts` - —Å–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤, —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `request.ts` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –∏–∑ URL –∏–ª–∏ cookie
- `locales/` - JSON —Ñ–∞–π–ª—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ UI

---

#### 1.3 –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
**–í—Ä–µ–º—è:** 1 —á–∞—Å

**–§–∞–π–ª:** `database/migrations/030_add_content_translations.sql`

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
CREATE TABLE content_translations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  entity_type TEXT NOT NULL,      -- 'building', 'route', 'blog_post', etc.
  entity_id UUID NOT NULL,
  field_name TEXT NOT NULL,       -- 'name', 'description', 'content'
  source_lang TEXT NOT NULL DEFAULT 'ru',
  target_lang TEXT NOT NULL,
  original_text TEXT NOT NULL,
  translated_text TEXT NOT NULL,
  translation_method TEXT NOT NULL, -- 'manual', 'google', 'deepl', 'gpt4'
  is_approved BOOLEAN DEFAULT FALSE,
  translated_by UUID REFERENCES auth.users(id),
  translated_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),

  -- –û–¥–∏–Ω –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
  UNIQUE(entity_type, entity_id, field_name, target_lang)
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
CREATE INDEX idx_translations_lookup
  ON content_translations(entity_type, entity_id, target_lang);

CREATE INDEX idx_translations_approval
  ON content_translations(is_approved, entity_type);

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è updated_at
CREATE OR REPLACE FUNCTION update_translations_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_translations_updated_at
BEFORE UPDATE ON content_translations
FOR EACH ROW
EXECUTE FUNCTION update_translations_updated_at();

-- RLS –ø–æ–ª–∏—Ç–∏–∫–∏
ALTER TABLE content_translations ENABLE ROW LEVEL SECURITY;

-- –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
CREATE POLICY "Anyone can view approved translations"
ON content_translations FOR SELECT
USING (is_approved = true);

-- –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –≤—Å—ë
CREATE POLICY "Admins can manage translations"
ON content_translations FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM profiles
    WHERE profiles.id = auth.uid()
    AND profiles.role IN ('admin', 'moderator')
  )
);
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞)
- `entity_type` + `entity_id` = —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç
- `field_name` = –∫–∞–∫–æ–µ –ø–æ–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∏–º (name, description)
- `is_approved` = –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- RLS –∑–∞—â–∏—Ç–∞ + –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### üéØ –≠—Ç–∞–ø 2: UI –ø–µ—Ä–µ–≤–æ–¥—ã (next-intl) (3-4 –¥–Ω—è)

**–¶–µ–ª—å:** –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

#### 2.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ next-intl
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

**–§–∞–π–ª:** `src/i18n/config.ts`

```typescript
export const locales = ['ru', 'en'] as const
export type Locale = (typeof locales)[number]

export const defaultLocale: Locale = 'ru'

export const localeNames: Record<Locale, string> = {
  ru: '–†—É—Å—Å–∫–∏–π',
  en: 'English'
}
```

**–§–∞–π–ª:** `src/i18n/request.ts`

```typescript
import { getRequestConfig } from 'next-intl/server'
import { notFound } from 'next/navigation'
import { locales } from './config'

export default getRequestConfig(async ({ locale }) => {
  // Validate locale
  if (!locales.includes(locale as any)) notFound()

  return {
    messages: (await import(`./locales/${locale}/common.json`)).default
  }
})
```

**–§–∞–π–ª:** `next.config.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

```typescript
import createNextIntlPlugin from 'next-intl/plugin'

const withNextIntl = createNextIntlPlugin('./src/i18n/request.ts')

const nextConfig = {
  // ... existing config
}

export default withNextIntl(nextConfig)
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- next-intl –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Next.js 15 App Router
- URL –±—É–¥–µ—Ç: `/ru/buildings`, `/en/buildings`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ URL

---

#### 2.2 –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è app/ –ø–æ–¥ –ª–æ–∫–∞–ª–∏
**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞

**–ë—ã–ª–æ:**
```
src/app/
‚îú‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ buildings/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îî‚îÄ‚îÄ map/
    ‚îî‚îÄ‚îÄ page.tsx
```

**–°—Ç–∞–Ω–µ—Ç:**
```
src/app/
‚îú‚îÄ‚îÄ [locale]/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Root layout —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ buildings/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ map/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx
‚îî‚îÄ‚îÄ not-found.tsx          # 404 —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```

**–§–∞–π–ª:** `src/app/[locale]/layout.tsx`

```typescript
import { NextIntlClientProvider } from 'next-intl'
import { getMessages } from 'next-intl/server'
import { notFound } from 'next/navigation'
import { locales } from '@/i18n/config'

export function generateStaticParams() {
  return locales.map((locale) => ({ locale }))
}

export default async function LocaleLayout({
  children,
  params: { locale }
}: {
  children: React.ReactNode
  params: { locale: string }
}) {
  // Validate locale
  if (!locales.includes(locale as any)) {
    notFound()
  }

  // Load messages
  const messages = await getMessages()

  return (
    <html lang={locale}>
      <body>
        <NextIntlClientProvider messages={messages}>
          {children}
        </NextIntlClientProvider>
      </body>
    </html>
  )
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –ø–æ–¥ `[locale]/`
- next-intl –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ–±–æ–∏—Ö —è–∑—ã–∫–æ–≤

---

#### 2.3 –°–æ–∑–¥–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–í—Ä–µ–º—è:** 6-8 —á–∞—Å–æ–≤

**–§–∞–π–ª:** `src/i18n/locales/ru/common.json`

```json
{
  "nav": {
    "home": "–ì–ª–∞–≤–Ω–∞—è",
    "buildings": "–ó–¥–∞–Ω–∏—è",
    "routes": "–ú–∞—Ä—à—Ä—É—Ç—ã",
    "map": "–ö–∞—Ä—Ç–∞",
    "blog": "–ë–ª–æ–≥",
    "news": "–ù–æ–≤–æ—Å—Ç–∏",
    "podcasts": "–ü–æ–¥–∫–∞—Å—Ç—ã",
    "about": "–û –ø—Ä–æ–µ–∫—Ç–µ",
    "contact": "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
  },
  "common": {
    "loading": "–ó–∞–≥—Ä—É–∑–∫–∞...",
    "error": "–û—à–∏–±–∫–∞",
    "success": "–£—Å–ø–µ—à–Ω–æ",
    "save": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
    "cancel": "–û—Ç–º–µ–Ω–∏—Ç—å",
    "delete": "–£–¥–∞–ª–∏—Ç—å",
    "edit": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
    "search": "–ü–æ–∏—Å–∫",
    "filter": "–§–∏–ª—å—Ç—Ä",
    "readMore": "–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ"
  },
  "auth": {
    "login": "–í–æ–π—Ç–∏",
    "logout": "–í—ã–π—Ç–∏",
    "register": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
    "email": "Email",
    "password": "–ü–∞—Ä–æ–ª—å",
    "forgotPassword": "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
  },
  "buildings": {
    "title": "–ó–¥–∞–Ω–∏—è",
    "description": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã",
    "addReview": "–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤",
    "viewOnMap": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ"
  }
  // ... –µ—â—ë ~200-300 —Å—Ç—Ä–æ–∫
}
```

**–§–∞–π–ª:** `src/i18n/locales/en/common.json`

```json
{
  "nav": {
    "home": "Home",
    "buildings": "Buildings",
    "routes": "Routes",
    "map": "Map",
    "blog": "Blog",
    "news": "News",
    "podcasts": "Podcasts",
    "about": "About",
    "contact": "Contact"
  },
  "common": {
    "loading": "Loading...",
    "error": "Error",
    "success": "Success",
    "save": "Save",
    "cancel": "Cancel",
    "delete": "Delete",
    "edit": "Edit",
    "search": "Search",
    "filter": "Filter",
    "readMore": "Read more"
  },
  "auth": {
    "login": "Login",
    "logout": "Logout",
    "register": "Sign up",
    "email": "Email",
    "password": "Password",
    "forgotPassword": "Forgot password?"
  },
  "buildings": {
    "title": "Buildings",
    "description": "Architectural objects",
    "addReview": "Add review",
    "viewOnMap": "View on map"
  }
  // ... –µ—â—ë ~200-300 —Å—Ç—Ä–æ–∫
}
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (nav, auth, buildings, etc.)
3. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON
4. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPT-4)

**–û—Ü–µ–Ω–∫–∞:** ~300-400 —Å—Ç—Ä–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è UI

---

#### 2.4 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
**–í—Ä–µ–º—è:** 8-10 —á–∞—Å–æ–≤

**–ë—ã–ª–æ:**
```typescript
export default function Navigation() {
  return (
    <nav>
      <Link href="/">–ì–ª–∞–≤–Ω–∞—è</Link>
      <Link href="/buildings">–ó–¥–∞–Ω–∏—è</Link>
      <Link href="/routes">–ú–∞—Ä—à—Ä—É—Ç—ã</Link>
    </nav>
  )
}
```

**–°—Ç–∞–Ω–µ—Ç:**
```typescript
'use client'

import { useTranslations } from 'next-intl'
import { Link, usePathname } from '@/i18n/navigation'

export default function Navigation() {
  const t = useTranslations('nav')

  return (
    <nav>
      <Link href="/">{t('home')}</Link>
      <Link href="/buildings">{t('buildings')}</Link>
      <Link href="/routes">{t('routes')}</Link>
    </nav>
  )
}
```

**–§–∞–π–ª:** `src/i18n/navigation.ts` (—Å–æ–∑–¥–∞—Ç—å)

```typescript
import { createSharedPathnamesNavigation } from 'next-intl/navigation'
import { locales } from './config'

export const { Link, redirect, usePathname, useRouter } =
  createSharedPathnamesNavigation({ locales })
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):**
1. Navigation / Header (~2 —á–∞—Å–∞)
2. Footer (~1 —á–∞—Å)
3. AuthModal (~1 —á–∞—Å)
4. BuildingModalNew (~2 —á–∞—Å–∞)
5. RouteViewerModal (~2 —á–∞—Å–∞)
6. Forms (AddReviewModal, etc.) (~3 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ:** ~30-40 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

#### 2.5 Language Switcher (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞)
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

**–§–∞–π–ª:** `src/components/LanguageSwitcher.tsx`

```typescript
'use client'

import { useLocale } from 'next-intl'
import { usePathname, useRouter } from 'next/navigation'
import { localeNames } from '@/i18n/config'
import type { Locale } from '@/i18n/config'

export default function LanguageSwitcher() {
  const locale = useLocale() as Locale
  const router = useRouter()
  const pathname = usePathname()

  const switchLocale = (newLocale: Locale) => {
    // Replace locale in pathname
    const newPath = pathname.replace(`/${locale}`, `/${newLocale}`)
    router.push(newPath)
  }

  return (
    <div className="flex items-center space-x-2">
      {(['ru', 'en'] as const).map((loc) => (
        <button
          key={loc}
          onClick={() => switchLocale(loc)}
          className={`px-3 py-1 rounded ${
            locale === loc
              ? 'bg-blue-600 text-white'
              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
          }`}
        >
          {localeNames[loc]}
        </button>
      ))}
    </div>
  )
}
```

**–†–∞–∑–º–µ—Å—Ç–∏—Ç—å:**
- –í Header (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
- –í Footer (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è (—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ)

---

### üéØ –≠—Ç–∞–ø 3: –ü–µ—Ä–µ–≤–æ–¥—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –ë–î (4-5 –¥–Ω–µ–π)

**–¶–µ–ª—å:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### 3.1 –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≤–æ–¥–∞
**–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤

**–§–∞–π–ª:** `src/lib/translation-service.ts`

```typescript
import { createClient } from '@/lib/supabase'
import { logger } from '@/lib/logger'

export type TranslationMethod = 'google' | 'deepl' | 'gpt4' | 'manual'

export interface TranslateOptions {
  entityType: 'building' | 'route' | 'blog_post' | 'news_post' | 'review'
  entityId: string
  fieldName: string
  originalText: string
  sourceLang: string
  targetLang: string
  method?: TranslationMethod
}

export async function translateAndStore(options: TranslateOptions): Promise<string> {
  const {
    entityType,
    entityId,
    fieldName,
    originalText,
    sourceLang,
    targetLang,
    method = 'google'
  } = options

  const supabase = createClient()

  // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à (—É–∂–µ –µ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥?)
  const { data: existing } = await supabase
    .from('content_translations')
    .select('translated_text')
    .eq('entity_type', entityType)
    .eq('entity_id', entityId)
    .eq('field_name', fieldName)
    .eq('target_lang', targetLang)
    .single()

  if (existing) {
    logger.info('Translation cache hit', { entityType, entityId, fieldName })
    return existing.translated_text
  }

  // 2. –í—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥
  logger.info('Translating content', { entityType, entityId, fieldName, method })

  const translatedText = await performTranslation(
    originalText,
    sourceLang,
    targetLang,
    method
  )

  // 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
  await supabase.from('content_translations').insert({
    entity_type: entityType,
    entity_id: entityId,
    field_name: fieldName,
    source_lang: sourceLang,
    target_lang: targetLang,
    original_text: originalText,
    translated_text: translatedText,
    translation_method: method,
    is_approved: false  // –¢—Ä–µ–±—É–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏
  })

  logger.info('Translation stored', { entityType, entityId, fieldName })

  return translatedText
}

async function performTranslation(
  text: string,
  sourceLang: string,
  targetLang: string,
  method: TranslationMethod
): Promise<string> {
  try {
    switch (method) {
      case 'google':
        return await translateWithGoogle(text, sourceLang, targetLang)
      case 'deepl':
        return await translateWithDeepL(text, sourceLang, targetLang)
      case 'gpt4':
        return await translateWithGPT4(text, sourceLang, targetLang)
      case 'manual':
        return text // Placeholder –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
      default:
        throw new Error(`Unknown translation method: ${method}`)
    }
  } catch (error) {
    logger.error('Translation failed', error as Error, { text: text.substring(0, 100) })
    throw error
  }
}

// Google Translate API
async function translateWithGoogle(text: string, from: string, to: string): Promise<string> {
  const apiKey = process.env.GOOGLE_TRANSLATE_API_KEY

  if (!apiKey) {
    throw new Error('GOOGLE_TRANSLATE_API_KEY not configured')
  }

  const response = await fetch(
    `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`,
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        q: text,
        source: from,
        target: to,
        format: 'text'
      })
    }
  )

  if (!response.ok) {
    throw new Error(`Google Translate API error: ${response.statusText}`)
  }

  const data = await response.json()
  return data.data.translations[0].translatedText
}

// DeepL API
async function translateWithDeepL(text: string, from: string, to: string): Promise<string> {
  const apiKey = process.env.DEEPL_API_KEY

  if (!apiKey) {
    throw new Error('DEEPL_API_KEY not configured')
  }

  const response = await fetch('https://api-free.deepl.com/v2/translate', {
    method: 'POST',
    headers: {
      'Authorization': `DeepL-Auth-Key ${apiKey}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      text: [text],
      source_lang: from.toUpperCase(),
      target_lang: to.toUpperCase()
    })
  })

  if (!response.ok) {
    throw new Error(`DeepL API error: ${response.statusText}`)
  }

  const data = await response.json()
  return data.translations[0].text
}

// OpenAI GPT-4
async function translateWithGPT4(text: string, from: string, to: string): Promise<string> {
  const apiKey = process.env.OPENAI_API_KEY

  if (!apiKey) {
    throw new Error('OPENAI_API_KEY not configured')
  }

  const response = await fetch('https://api.openai.com/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'gpt-4-turbo',
      messages: [
        {
          role: 'system',
          content: `You are a professional translator specializing in architectural content.
Translate from ${from} to ${to}. Preserve technical terms, proper nouns, and formatting.
Maintain the tone and style of the original text.`
        },
        {
          role: 'user',
          content: text
        }
      ],
      temperature: 0.3
    })
  })

  if (!response.ok) {
    throw new Error(`OpenAI API error: ${response.statusText}`)
  }

  const data = await response.json()
  return data.choices[0].message.content
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –¢—Ä–∏ –º–µ—Ç–æ–¥–∞ –ø–µ—Ä–µ–≤–æ–¥–∞: Google (–¥–µ—à–µ–≤–ª–µ), DeepL (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ), GPT-4 (–ª—É—á—à–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–µ—Ä–µ–≤–æ–¥ –¥–µ–ª–∞–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó, –ø–æ—Ç–æ–º –±–µ—Ä–µ—Ç—Å—è –∏–∑ –ë–î
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—à logger
- Error handling –¥–ª—è –≤—Å–µ—Ö API

---

#### 3.2 –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

**–§–∞–π–ª:** `src/lib/get-translated-content.ts`

```typescript
import { createClient } from '@/lib/supabase'

export async function getTranslatedContent(
  entityType: string,
  entityId: string,
  fieldName: string,
  targetLang: string,
  originalText: string
): Promise<string> {
  // –ï—Å–ª–∏ —Ä—É—Å—Å–∫–∏–π (–æ—Ä–∏–≥–∏–Ω–∞–ª), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
  if (targetLang === 'ru') {
    return originalText
  }

  const supabase = createClient()

  const { data, error } = await supabase
    .from('content_translations')
    .select('translated_text')
    .eq('entity_type', entityType)
    .eq('entity_id', entityId)
    .eq('field_name', fieldName)
    .eq('target_lang', targetLang)
    .eq('is_approved', true)  // –¢–æ–ª—å–∫–æ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    .single()

  if (error || !data) {
    // –ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª
    return originalText
  }

  return data.translated_text
}

// Batch –≤–µ—Ä—Å–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
export async function getBatchTranslatedContent(
  entityType: string,
  entityIds: string[],
  targetLang: string
): Promise<Map<string, Record<string, string>>> {
  if (targetLang === 'ru') {
    return new Map()
  }

  const supabase = createClient()

  const { data, error } = await supabase
    .from('content_translations')
    .select('entity_id, field_name, translated_text')
    .eq('entity_type', entityType)
    .in('entity_id', entityIds)
    .eq('target_lang', targetLang)
    .eq('is_approved', true)

  if (error || !data) {
    return new Map()
  }

  // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ entity_id
  const result = new Map<string, Record<string, string>>()

  data.forEach(translation => {
    if (!result.has(translation.entity_id)) {
      result.set(translation.entity_id, {})
    }
    result.get(translation.entity_id)![translation.field_name] = translation.translated_text
  })

  return result
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –µ—Å—Ç—å ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º, –µ—Å–ª–∏ –Ω–µ—Ç ‚Üí –æ—Ä–∏–≥–∏–Ω–∞–ª
- Batch –≤–µ—Ä—Å–∏—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π)
- –¢–æ–ª—å–∫–æ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã (`is_approved = true`)

---

#### 3.3 React Hook –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

**–§–∞–π–ª:** `src/hooks/useContentTranslation.ts`

```typescript
'use client'

import { useEffect, useState } from 'react'
import { useLocale } from 'next-intl'
import { getTranslatedContent } from '@/lib/get-translated-content'

export function useContentTranslation(
  entityType: string,
  entityId: string,
  fields: Record<string, string>
) {
  const locale = useLocale()
  const [translatedFields, setTranslatedFields] = useState(fields)
  const [loading, setLoading] = useState(false)

  useEffect(() => {
    if (locale === 'ru') {
      // –†—É—Å—Å–∫–∏–π - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª
      setTranslatedFields(fields)
      return
    }

    async function loadTranslations() {
      setLoading(true)

      const translations: Record<string, string> = {}

      for (const [fieldName, originalText] of Object.entries(fields)) {
        const translated = await getTranslatedContent(
          entityType,
          entityId,
          fieldName,
          locale,
          originalText
        )
        translations[fieldName] = translated
      }

      setTranslatedFields(translations)
      setLoading(false)
    }

    loadTranslations()
  }, [locale, entityId, entityType])

  return { ...translatedFields, loading }
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
'use client'

import { useContentTranslation } from '@/hooks/useContentTranslation'

export default function BuildingCard({ building }: { building: Building }) {
  const { name, description, loading } = useContentTranslation(
    'building',
    building.id,
    {
      name: building.name,
      description: building.description
    }
  )

  if (loading) {
    return <div>Loading translation...</div>
  }

  return (
    <div>
      <h2>{name}</h2>
      <p>{description}</p>
    </div>
  )
}
```

---

#### 3.4 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–í—Ä–µ–º—è:** 8-10 —á–∞—Å–æ–≤

**–§–∞–π–ª:** `src/app/[locale]/admin/translations/page.tsx`

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
1. **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
2. **–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - –∫–Ω–æ–ø–∫–∞ approve/reject
3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - inline edit
4. **–ú–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥** - –∫–Ω–æ–ø–∫–∞ "Translate all buildings"
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ, —Å–∫–æ–ª—å–∫–æ –∂–¥—ë—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä–Ω—ã–π UI:**

```typescript
export default async function TranslationsAdminPage() {
  const supabase = createClient()

  const { data: translations } = await supabase
    .from('content_translations')
    .select('*')
    .eq('is_approved', false)
    .order('translated_at', { ascending: false })
    .limit(50)

  return (
    <div className="p-8">
      <h1 className="text-2xl font-bold mb-6">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏</h1>

      {/* –§–∏–ª—å—Ç—Ä—ã */}
      <div className="flex gap-4 mb-6">
        <select className="px-4 py-2 border rounded">
          <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
          <option value="building">–ó–¥–∞–Ω–∏—è</option>
          <option value="route">–ú–∞—Ä—à—Ä—É—Ç—ã</option>
          <option value="blog_post">–ë–ª–æ–≥</option>
        </select>

        <select className="px-4 py-2 border rounded">
          <option value="pending">–û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</option>
          <option value="approved">–£—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã</option>
        </select>

        <button className="px-4 py-2 bg-blue-600 text-white rounded">
          –ú–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥
        </button>
      </div>

      {/* –¢–∞–±–ª–∏—Ü–∞ */}
      <table className="w-full">
        <thead className="bg-gray-100">
          <tr>
            <th>–¢–∏–ø</th>
            <th>–ü–æ–ª–µ</th>
            <th>–û—Ä–∏–≥–∏–Ω–∞–ª</th>
            <th>–ü–µ—Ä–µ–≤–æ–¥</th>
            <th>–ú–µ—Ç–æ–¥</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          {translations?.map(t => (
            <tr key={t.id}>
              <td>{t.entity_type}</td>
              <td>{t.field_name}</td>
              <td className="max-w-xs truncate">{t.original_text}</td>
              <td className="max-w-xs truncate">{t.translated_text}</td>
              <td>{t.translation_method}</td>
              <td>
                <button className="text-green-600">‚úì Approve</button>
                <button className="text-red-600 ml-2">‚úó Reject</button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  )
}
```

---

### üéØ –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)

#### 4.1 Unit —Ç–µ—Å—Ç—ã
**–í—Ä–µ–º—è:** 4 hours

–¢–µ—Å—Ç—ã –¥–ª—è:
- `translation-service.ts`
- `get-translated-content.ts`
- `useContentTranslation` hook

#### 4.2 Integration —Ç–µ—Å—Ç—ã
**–í—Ä–µ–º—è:** 4 —á–∞—Å–∞

–¢–µ—Å—Ç—ã –¥–ª—è:
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –≤ UI
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–∑ –ë–î
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

#### 4.3 Manual —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ RU
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ EN
- [ ] Language Switcher —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] Mobile –≤–µ—Ä—Å–∏—è
- [ ] SEO (hreflang tags)

---

## üìä –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞

| –≠—Ç–∞–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ä–µ–º—è | –ö—É–º—É–ª—è—Ç–∏–≤–Ω–æ |
|------|----------|-------|-------------|
| **–≠—Ç–∞–ø 1** | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | 2-3 –¥–Ω—è | 2-3 –¥–Ω—è |
| **–≠—Ç–∞–ø 2** | UI –ø–µ—Ä–µ–≤–æ–¥—ã (next-intl) | 3-4 –¥–Ω—è | 5-7 –¥–Ω–µ–π |
| **–≠—Ç–∞–ø 3** | –ü–µ—Ä–µ–≤–æ–¥—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ë–î) | 4-5 –¥–Ω–µ–π | 9-12 –¥–Ω–µ–π |
| **–≠—Ç–∞–ø 4** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 2-3 –¥–Ω—è | 11-15 –¥–Ω–µ–π |
| **–ë—É—Ñ–µ—Ä** | –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ | 2-3 –¥–Ω—è | **13-18 –¥–Ω–µ–π** |

**–ò—Ç–æ–≥–æ:** 2.5-3.5 –Ω–µ–¥–µ–ª–∏

---

### –°—Ç–æ–∏–º–æ—Å—Ç—å API (–º–µ—Å—è—á–Ω–æ)

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ Google Translate (–º–∏–Ω–∏–º—É–º)
- **Google Translate API:** ~$20-40/–º–µ—Å
- **–ò—Ç–æ–≥–æ:** $20-40/–º–µ—Å

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Google + DeepL (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- **Google Translate API:** ~$20/–º–µ—Å (–¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤)
- **DeepL API:** ~$20/–º–µ—Å (–¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤)
- **–ò—Ç–æ–≥–æ:** $40/–º–µ—Å

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω—ã–π (Google + DeepL + GPT-4)
- **Google Translate:** ~$20/–º–µ—Å
- **DeepL:** ~$20/–º–µ—Å
- **OpenAI GPT-4:** ~$50-100/–º–µ—Å (–¥–ª—è –±–ª–æ–≥–æ–≤)
- **–ò—Ç–æ–≥–æ:** $90-140/–º–µ—Å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:** –í–∞—Ä–∏–∞–Ω—Ç 1 (—Ç–æ–ª—å–∫–æ Google)

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–ø–µ—Ä–≤–∞—è –Ω–µ–¥–µ–ª—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)
1. **UI —Ç–µ–∫—Å—Ç—ã** - 100% (—á–µ—Ä–µ–∑ next-intl)
2. **Landing page** - –æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é
3. **–¢–æ–ø-20 –∑–¥–∞–Ω–∏–π** - —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
4. **–¢–æ–ø-10 –º–∞—Ä—à—Ä—É—Ç–æ–≤** - featured routes

### –§–∞–∑–∞ 2: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (1-2 –º–µ—Å—è—Ü–∞)
1. –í—Å–µ –∑–¥–∞–Ω–∏—è (~200-300 —à—Ç)
2. –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã (~50-100 —à—Ç)
3. –ë–ª–æ–≥ –ø–æ—Å—Ç—ã (–Ω–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –§–∞–∑–∞ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (2-3 –º–µ—Å—è—Ü–∞)
1. –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. –ù–æ–≤–æ—Å—Ç–∏
3. –ü–æ–¥–∫–∞—Å—Ç—ã

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:
- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª —ç—Ç–æ—Ç –ø–ª–∞–Ω
- [ ] –ü–æ–Ω—è—Ç–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [ ] –í—ã–±—Ä–∞–ª –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–≤–æ–¥–∞ (Google/DeepL/GPT-4)
- [ ] –ì–æ—Ç–æ–≤ API key –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω –±—é–¥–∂–µ—Ç ($20-140/–º–µ—Å)

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 1:
- [ ] next-intl —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —Å–æ–∑–¥–∞–Ω–∞

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 2:
- [ ] UI –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- [ ] Language Switcher —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ /ru –∏ /en

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 3:
- [ ] –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≥–æ—Ç–æ–≤–∞

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 4:
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Manual –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] SEO –Ω–∞—Å—Ç—Ä–æ–µ–Ω (hreflang)
- [ ] **–ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£** üöÄ

---

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **next-intl:** https://next-intl-docs.vercel.app/
- **Google Translate API:** https://cloud.google.com/translate/docs
- **DeepL API:** https://www.deepl.com/docs-api
- **OpenAI GPT-4:** https://platform.openai.com/docs

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **i18n Ally (VS Code):** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
- **JSON Translator:** –û–Ω–ª–∞–π–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è batch –ø–µ—Ä–µ–≤–æ–¥–∞ JSON

---

## ‚ùì FAQ

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ?
**A:** –î–∞, –µ—Å–ª–∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å scope:
- –¢–æ–ª—å–∫–æ UI –ø–µ—Ä–µ–≤–æ–¥—ã (–±–µ–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞) - 1 –Ω–µ–¥–µ–ª—è
- UI + —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥ —Ç–æ–ø-20 –∑–¥–∞–Ω–∏–π - 1.5 –Ω–µ–¥–µ–ª–∏

### Q: –ù—É–∂–Ω–æ –ª–∏ —Å—Ä–∞–∑—É –¥–µ–ª–∞—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥?
**A:** –ù–µ—Ç, –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å —Ä—É—á–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
1. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ UI (next-intl)
2. –í—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–æ–ø-20 –∑–¥–∞–Ω–∏–π
3. –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥

### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –ø–ª–∞—Ç–Ω—ã—Ö API?
**A:** –î–∞, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –±—É–¥–µ—Ç –Ω–∏–∂–µ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã Google Translate
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ ChatGPT
- –ö—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å)

### Q: –ö–æ–≥–¥–∞ –ª—É—á—à–µ –∑–∞–ø—É—Å–∫–∞—Ç—å i18n?
**A:** **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ß–µ—Ä–µ–∑ 1-2 –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
- –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ—Å—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –°–æ–±–µ—Ä–∏—Ç–µ feedback
- –ü–æ—Ç–æ–º –¥–æ–±–∞–≤—å—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- –≠—Ç–æ —Å–Ω–∏–∑–∏—Ç —Ä–∏—Å–∫–∏ –∏ –¥–∞—Å—Ç –≤—Ä–µ–º—è –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** Claude (Anthropic)
**–î–∞—Ç–∞:** 1 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** Ready to implement
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±—Å—É–¥–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ scope
