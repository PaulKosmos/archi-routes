РЕФАКТОРИНГ РАЗДЕЛА «БЛОГ» — СТРУКТУРИРОВАННАЯ КОНЦЕПЦИЯ
1. Основная идея раздела

Раздел «Блог» — это пользовательские гайды по городам, похожие по структуре и качеству на материалы 34travel.me, но с расширенной функциональностью:
каждый упомянутый объект автоматически становится частью базы объектов и отображается на карте.
Это превращает блог в инструмент создания нового контента и пополнения базы объектов.
Цвет кнопок в блоге пусть будет зеленным.
Блок уже создан - http://localhost:3000/blog

2. Логика работы с объектами
2.1. Добавление объектов из блога

Когда пользователь пишет блог о городе:
он упоминает конкретные объекты (рестораны, музеи, площади и т.п.), при добавлении блока он может:

выбрать объект из существующей базы, или
создать новый объект (через мини-форму: название, категория, адрес/координаты, фото).
Данная форма уже реализована на странице map в модальном окне через кнопку добавить объект.

Что происходит дальше:
объект сохраняется в общей базе объектов,
автоматически отображается в разделе /map,
попадает на карту блога,
становится кликабельным, и при нажатии открывается страница карты с этим объектом.

2.2. Карта внутри блога
Для каждого блога автоматически генерируется мини-карта:
показывает все объекты, упомянутые в блоге,
объекты кликабельны → переход на /map?object=ID.
Карта стилистически должна быть такая как карта http://localhost:3000/map

2.3. Формирование маршрута
Пользователь, читающий блог, может:
нажать кнопку «Составить маршрут»,
увидеть список всех объектов блога,
отметить галочкой только те, которые он хочет посетить,
получить маршрут в том же функционале, что уже реализован в /map.
Данная форма уже реализована на странице map в модальном окне через кнопку создать маршрут.

3. Конструктор блогов
3.1. Общая идея
Блог редактируется так же, как новый конструктор новостей http://localhost:3000/news черех кнопку редактировать сетку "доступна только админам"
модульные блоки,
drag-and-drop,
возможность быстро собрать красивую страницу без навыков верстки,
полностью WYSIWYG-подход.

3.2. Предлагаемые блоки (первые версии)
1. Текст + изображение (картинка слева / текст справа)
2. Текст + изображение (картинка справа / текст слева)
3. Большая картинка на всю ширину
4. Галерея фотографий
6. Объект (карточка объекта)

При выборе "Объект":
человек выбирает объект из базы или создаёт новый,
объект автоматически связывается с блогом,
отображается в карте блога.

3.3. Система добавления блоков

Слева — небольшое FAB-меню (или боковая панель):
список всех доступных блоков,
пользователь захватывает блок мышью,
перетягивает в рабочее полотно.

Дополнительно:

блоки можно перемещать,
удалять,
редактировать содержимое,
менять порядок.

4. Страница чтения блога

На странице блога отображается:
заголовок, описание, дата, автор,
блоки контента,
интерактивная мини-карта объектов,
кнопка «Построить маршрут»,
социальные кнопки «Поделиться»,
похожие блоги (позже).
Нравится
В коллекцию
Всё выдержано в стиле сайта (как подкасты/новости), но адаптировано для длинных текстов.

5. Роли и доступы

Блог может создавать любой зарегистрированный пользователь.
Модераторы/админы могут:
одобрять/удалять,
редактировать,
привязывать объекты,
продвигать блог в рекомендации.

6. Потенциальные трудности (которые нужно учесть заранее)

Создание объектов в процессе редактирования блога требует небольшой формы → нужна проверка корректности координат.
Формирование карты внутри блога должно работать быстро → кеширование.
Drag and drop должен быть стабилен и не конфликтовать с RichText редактором.
Обработка длинных блогов → lazy-load изображений.
SEO-оптимизация (красивые URL, метатеги, Twitter cards).

7. Как эта система меняет сайт

Пользовательский блог становится:
инструментом расширения базы объектов,
способом генерировать уникальный контент,
дополнительным интерфейсом работы с картой,
вовлечением аудитории в создание контента.


Рекомендации:
Обязательно документировать прогресс, 
при необходимости использовасть доступные mcp context7 при имплементации, supabase для связи с БД проекта, Playwright для тестирования
Обязательно работать поэтапно.